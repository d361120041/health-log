# ğŸ’» Spring Boot å¾Œç«¯é¡åˆ¥æ¶æ§‹è¨­è¨ˆ

æœ¬å°ˆæ¡ˆæ¡ç”¨ **Maven Multi-Module** çµæ§‹é€²è¡Œè·è²¬åˆ†é›¢ï¼Œç¢ºä¿ç¨‹å¼ç¢¼çš„å¯ç¶­è­·æ€§å’Œæœªä¾†æ“´å±•æ€§ã€‚

## 1. ğŸ“‚ Maven æ¨¡çµ„çµæ§‹

| æ¨¡çµ„åç¨± (Artifact) | è·è²¬ç¯„åœ | åŒ…å«çš„é¡åˆ¥é¡å‹ | ä¾è³´å°è±¡ |
| :--- | :--- | :--- | :--- |
| **`app-model`** | è³‡æ–™çµæ§‹å®šç¾© | JPA Entity, DTO (è³‡æ–™å‚³è¼¸ç‰©ä»¶) | ç„¡ |
| **`app-data`** | è³‡æ–™åº«å­˜å–å±¤ | JpaRepository æ¥å£ | `app-model` |
| **`app-service`** | æ ¸å¿ƒæ¥­å‹™é‚è¼¯ | Service å±¤ (æ¥­å‹™è™•ç†) | `app-model`, `app-data` |
| **`app-web`** | å¤–éƒ¨æ¥å£èˆ‡æ‡‰ç”¨å•Ÿå‹• | Controller å±¤, Spring Boot å•Ÿå‹•é¡, å®‰å…¨é…ç½® | `app-service` |

---

## 2. ğŸ§© æ ¸å¿ƒé¡åˆ¥è¨­è¨ˆ (æŒ‰åŠŸèƒ½æ¨¡çµ„èˆ‡å±¤ç´šåŠƒåˆ†)

### ğŸ”¹ A. å®‰å…¨èˆ‡èªè­‰ (`security`, `auth` Packages)

| åŠŸèƒ½/å±¤ç´š | é¡åˆ¥åç¨± | æ ¸å¿ƒè·è²¬ | æ‰€åœ¨æ¨¡çµ„ |
| :--- | :--- | :--- | :--- |
| **å¯¦é«”** | `User`, `Role` | æ˜ å°„ DB è¡¨ | `app-model` |
| **é…ç½®** | `SecurityConfig` | Spring Security é…ç½®èˆ‡æ¬Šé™å®šç¾© | `app-web` |
| **éæ¿¾å™¨** | `JwtRequestFilter` | æ””æˆªè«‹æ±‚ï¼Œé©—è­‰ Access Token | `app-web` |
| **Redis æœå‹™** | `RefreshTokenService` | è™•ç† Refresh Token çš„å„²å­˜ã€æŸ¥è©¢ã€å¤±æ•ˆ | `app-service` |
| **æ§åˆ¶å™¨** | `AuthController` | è™•ç†ç™»å…¥ã€ç™»å‡ºã€Token åˆ·æ–° | `app-web` |
| **DTO** | `LoginRequestDTO`, `AuthResponseDTO` | èªè­‰è³‡æ–™å‚³è¼¸æ ¼å¼ | `app-model` |

### ğŸ”¹ B. è¨˜éŒ„è¨­å®š (`settings` Package - Admin Only)

| åŠŸèƒ½/å±¤ç´š | é¡åˆ¥åç¨± | æ ¸å¿ƒè·è²¬ | æ‰€åœ¨æ¨¡çµ„ |
| :--- | :--- | :--- | :--- |
| **å¯¦é«”** | `FieldSetting` | æ˜ å°„ `field_settings` è¡¨ | `app-model` |
| **Repository** | `FieldSettingRepository` | DB å­˜å– | `app-data` |
| **æœå‹™** | `FieldSettingService` | ç®¡ç†è¨˜éŒ„æ¬„ä½çš„ CRUD æ¥­å‹™é‚è¼¯ | `app-service` |
| **æ§åˆ¶å™¨** | `FieldSettingController` | è™•ç†å¾Œå° `/api/admin/settings` æ¥å£ | `app-web` |

### ğŸ”¹ C. æ ¸å¿ƒè¨˜éŒ„ (`record` Package - EAV è™•ç†)

æ­¤æ¨¡çµ„åŒ…å« EAV æ¨¡å¼çš„è®€å¯«è½‰æ›é‚è¼¯ï¼Œæ˜¯å°ˆæ¡ˆçš„æ ¸å¿ƒã€‚

| åŠŸèƒ½/å±¤ç´š | é¡åˆ¥åç¨± | æ ¸å¿ƒè·è²¬ | æ‰€åœ¨æ¨¡çµ„ |
| :--- | :--- | :--- | :--- |
| **å¯¦é«”** | `DailyRecord`, `RecordData` | æ˜ å°„ `daily_records` å’Œ `record_data` è¡¨ | `app-model` |
| **Repository** | `DailyRecordRepository`, `RecordDataRepository` | DB å­˜å– | `app-data` |
| **æœå‹™** | `DailyRecordService` | **EAV å¯«å…¥ (æ‹†è§£ DTO)** åŠ **EAV æŸ¥è©¢ (å½™æ•´ DTO)** é‚è¼¯ | `app-service` |
| **æ§åˆ¶å™¨** | `DailyRecordController` | è™•ç† `/api/records` çš„ CRUD è«‹æ±‚ | `app-web` |
| **DTO** | `RecordRequestDTO`, `DailyRecordDetailDTO` | EAV æ•¸æ“šçš„è¼¸å…¥/è¼¸å‡ºæ ¼å¼ | `app-model` |

### ğŸ”¹ D. æ•¸æ“šå ±å‘Š (`report` Package)

| åŠŸèƒ½/å±¤ç´š | é¡åˆ¥åç¨± | æ ¸å¿ƒè·è²¬ | æ‰€åœ¨æ¨¡çµ„ |
| :--- | :--- | :--- | :--- |
| **æœå‹™** | `ReportService` | åŸ·è¡Œè¤‡é›œçš„è¶¨å‹¢æ•¸æ“šæŸ¥è©¢ | `app-service` |
| **æ§åˆ¶å™¨** | `ReportController` | è™•ç† `/api/reports` æ¥å£ | `app-web` |
| **DTO** | `TrendDataPointDTO` | è¶¨å‹¢åœ–æ•¸æ“šé»æ ¼å¼ | `app-model` |

---